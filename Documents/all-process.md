
## 流程图

```mermaid
graph TD
    %% 入口
    A[用户打开 App] --> B[弹出对话框输入名字注册]
    B --> C[注册成功展示主页]
    C --> D{选择角色}
    D --> U[我是用户]
    D --> M[我是商家]

    %% 用户流程
    subgraph UserFlow[用户流程]
        U --> U0[进入点餐流程]
        U0 --> U1[用户输入点餐需求]
        U1 --> U2{是否与点餐相关}
        U2 -- 否 --> Ux[返回“我是一个点餐系统不支持闲聊”]

        U2 -- 是 --> U3[补充需求信息<br/>人数/预算/忌口/喜好]
        U3 --> U4[生成菜单<br/>展示菜品名称/价格/描述]

        U4 --> U5{用户选择}
        U5 --> U5a[确认]
        U5 --> U5b[再看看]
        U5 --> U5c[刷新]

        %% 确认
        U5a --> U6[创建订单]
        U6 --> U7[发送订单信息]
        U7 --> U8{是否进行游戏}
        U8 -- 是 --> U9[开启游戏]
        U8 -- 否 --> Uend[结束/返回主页]

        %% 再看看
        U5b --> U10[询问还有什么需求<br/>记录刚才生成的菜单]
        U10 --> U1

        %% 刷新
        U5c --> U11[重新推荐一批菜单]
        U11 --> U4
    end

    %% 商家流程
    subgraph MerchantFlow[商家流程]
        M --> M0[进入商家后台管理系统]
        M0 --> M1{选择功能}

        M1 --> M2[查看订单列表]
        M1 --> M3[查看菜品库存]
        M1 --> M4[查看游戏排行榜]

        M1 --> M5[查看报表]
        M5 --> M5a[今日营收]
        M5 --> M5b[销售前十菜品柱状图]

        M1 --> M6[上新菜]
        M6 --> M6a[提供菜品名称/价格/描述/库存]
        M6a --> M6b[创建成功<br/>返回“上新成功”]
    end
```

## 这是系统的全部流程

1. 用户打开app，首先弹出对话框输入名字进行注册
2. 注册成功展示主页，选择我是用户还是我是商家

### 我是用户

1. 点击我是用户后
2. 点餐流程
    1. 需要用户提供点餐的需求
    2. 如果跟点餐相关，需要用户提供点餐的需求，比如多少人预算多少，忌口，喜好
    3. 用户发送需求以后，根据描述生成菜单，展示菜品名称，价格，描述
    4. 如果用户点击确认，创建订单
    5. 如果用户点击再看看，则询问用户还有什么需求，然后返回第一步重新开始，并记录刚才生成的菜单
    6. 用户还可以点击刷新，会重新推荐一批
    7. 创建订单成功以后给用户发送订单信息
    8. 在确认订单以后可以提示是否进行游戏
    9. 点击确认以后开启游戏
3. 如果输入跟点餐无关的，返回 “我是一个点餐系统不支持闲聊”

### 我是商家

1. 点击我是商家后
2. 进入商家后台管理系统，提供以下功能
    1. 查看订单列表
    2. 查看菜品库存
    3. 查看游戏排行榜
    4. 查看报表
        - 今日营收
        - 销售前十的菜品柱状图
    5. 上新菜
        1. 提供菜品名称，价格，描述，库存
        2. 创建成功以后返回“上新成功”
