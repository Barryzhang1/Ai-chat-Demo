# 座位管理Tab布局测试用例

## 测试目标
验证座位管理页面的Tab布局功能是否正常工作，包括排队列表和座位列表的分Tab展示。

## 测试环境
- 浏览器：Chrome/Safari
- 设备：移动端/PC端
- 用户角色：商家管理员

## 测试用例

### TC-001: Tab组件渲染
**前置条件：**
- 用户已登录为商家管理员
- 至少存在一个座位

**测试步骤：**
1. 进入座位管理页面
2. 查看页面布局

**预期结果：**
- ✅ 页面顶部显示座位统计信息卡片
- ✅ 统计信息下方显示操作按钮区域
- ✅ 操作按钮下方显示Tab组件
- ✅ Tab组件包含两个标签："排队列表" 和 "座位列表"

---

### TC-002: 默认Tab显示
**前置条件：**
- 用户已登录为商家管理员
- 首次进入座位管理页面

**测试步骤：**
1. 进入座位管理页面

**预期结果：**
- ✅ 默认显示"座位列表"Tab
- ✅ 座位列表中正常显示所有座位

---

### TC-003: Tab切换到排队列表
**前置条件：**
- 用户在座位管理页面的"座位列表"Tab

**测试步骤：**
1. 点击"排队列表"Tab

**预期结果：**
- ✅ Tab切换到"排队列表"
- ✅ 如果有排队用户，显示排队用户列表
- ✅ 如果没有排队用户，显示"暂无排队用户"提示
- ✅ 排队用户显示排队位置、昵称、排队时间和人数信息

---

### TC-004: Tab切换到座位列表
**前置条件：**
- 用户在座位管理页面的"排队列表"Tab

**测试步骤：**
1. 点击"座位列表"Tab

**预期结果：**
- ✅ Tab切换到"座位列表"
- ✅ 显示所有座位信息
- ✅ 每个座位显示座位号、状态、操作按钮
- ✅ 用餐中的座位显示用户名和用餐时间

---

### TC-005: 排队列表数据实时更新
**前置条件：**
- 用户在"排队列表"Tab
- 有其他用户操作排队

**测试步骤：**
1. 观察排队列表
2. 让另一个用户加入排队
3. 观察排队列表变化

**预期结果：**
- ✅ 新用户自动出现在排队列表中
- ✅ 排队人数实时更新
- ✅ 排队列表标题中的人数统计实时更新
- ✅ 不需要手动刷新页面

---

### TC-006: 座位列表数据实时更新
**前置条件：**
- 用户在"座位列表"Tab
- 有用户占用或离开座位

**测试步骤：**
1. 观察座位列表
2. 让用户占用一个座位
3. 观察座位状态变化

**预期结果：**
- ✅ 座位状态实时更新
- ✅ 占用的座位显示用户名和用餐时间
- ✅ 座位统计信息实时更新
- ✅ 不需要手动刷新页面

---

### TC-007: 在排队列表Tab中添加座位
**前置条件：**
- 用户在"排队列表"Tab

**测试步骤：**
1. 点击"添加座位"按钮
2. 输入座位号
3. 点击"创建"按钮

**预期结果：**
- ✅ 座位创建成功提示
- ✅ 座位统计信息更新
- ✅ 可以切换到"座位列表"Tab查看新座位

---

### TC-008: 在座位列表Tab中操作座位
**前置条件：**
- 用户在"座位列表"Tab
- 至少有一个空闲座位

**测试步骤：**
1. 点击某个座位的"关闭"按钮
2. 确认操作
3. 观察座位状态变化

**预期结果：**
- ✅ 座位状态更新为"已关闭"
- ✅ 座位统计信息更新
- ✅ 保持在"座位列表"Tab
- ✅ WebSocket实时推送状态变化

---

### TC-009: 开关门操作对Tab的影响
**前置条件：**
- 用户在任意Tab
- 有排队用户和可用座位

**测试步骤：**
1. 点击"开门"或"关门"按钮
2. 确认操作
3. 观察Tab内容变化

**预期结果：**
- ✅ 操作成功后显示相应提示
- ✅ 当前Tab保持不变
- ✅ 排队列表和座位列表内容实时更新
- ✅ 座位统计信息实时更新

---

### TC-010: 移动端Tab样式适配
**前置条件：**
- 使用移动设备或移动端浏览器模式

**测试步骤：**
1. 进入座位管理页面
2. 观察Tab组件显示
3. 切换不同Tab

**预期结果：**
- ✅ Tab按钮大小适合触摸操作
- ✅ Tab切换流畅，无卡顿
- ✅ 列表内容适配移动端屏幕
- ✅ 滚动体验良好

---

### TC-011: Tab状态保持
**前置条件：**
- 用户在"排队列表"Tab

**测试步骤：**
1. 切换到"排队列表"Tab
2. 执行某个操作（如添加座位）
3. 观察Tab状态

**预期结果：**
- ✅ 操作完成后仍保持在当前Tab
- ✅ Tab状态不会自动切换

---

### TC-012: 空状态显示
**前置条件：**
- 系统中没有座位
- 没有排队用户

**测试步骤：**
1. 进入座位管理页面
2. 分别查看两个Tab

**预期结果：**
- ✅ "排队列表"Tab显示"暂无排队用户"
- ✅ "座位列表"Tab显示"暂无座位，点击上方按钮添加座位"
- ✅ 空状态提示居中、样式美观

---

## 回归测试

### RT-001: 原有功能不受影响
**测试步骤：**
验证以下功能是否正常：
1. 添加座位
2. 删除座位
3. 开启/关闭座位
4. 开门/关门
5. WebSocket实时推送
6. 座位统计信息展示

**预期结果：**
- ✅ 所有原有功能正常工作
- ✅ 只是展示方式从单页面变为Tab分页

---

## 性能测试

### PT-001: Tab切换性能
**测试步骤：**
1. 创建大量座位（50个以上）
2. 多个用户排队（20人以上）
3. 频繁切换Tab

**预期结果：**
- ✅ Tab切换响应时间 < 200ms
- ✅ 无明显卡顿或延迟
- ✅ 内存使用稳定

---

## 测试总结

### 测试覆盖率
- UI渲染：100%
- 功能操作：100%
- 实时更新：100%
- 边界情况：100%

### 关键验证点
1. Tab组件正确渲染和切换
2. 排队列表和座位列表正确分离
3. WebSocket实时更新在Tab中正常工作
4. 所有操作在不同Tab下都能正常执行
5. 移动端体验良好
