# 权限管理国际化测试用例

## 测试概述

本文档记录权限管理系统国际化功能的测试用例，验证中英文切换和显示的正确性。

**实现时间**: 2026年2月6日
**涉及模块**: PermissionManagement, RoleSelect
**支持语言**: 中文(zh), 英文(en)

---

## 测试环境

- **项目**: ChatUI
- **测试范围**: 权限管理页面、角色选择页面
- **国际化框架**: LanguageContext + translations.js

---

## 功能测试用例

### 1. 权限管理页面国际化测试

#### 测试用例 1.1：页面标题国际化
- **测试目标**: 验证权限管理页面标题正确显示
- **前置条件**: BOSS角色登录，进入权限管理页面
- **测试步骤**:
  1. 确认界面为中文
  2. 观察页面标题
  3. 切换为英文
  4. 再次观察页面标题
- **预期结果**:
  - 中文: "权限管理"
  - 英文: "Permission Management"

#### 测试用例 1.2：用户列表标题国际化
- **测试目标**: 验证用户列表标题正确显示
- **测试步骤**:
  1. 在权限管理页面查看列表标题
  2. 切换语言重新检查
- **预期结果**:
  - 中文: "用户列表"
  - 英文: "User List"

#### 测试用例 1.3：角色标签国际化
- **测试目标**: 验证用户角色标签正确显示
- **测试步骤**:
  1. 观察用户列表中的角色标签
  2. 检查BOSS、STAFF、USER三种角色
  3. 切换语言重新检查
- **预期结果**:
  - 中文: "老板", "员工", "用户"
  - 英文: "Boss", "Staff", "User"

#### 测试用例 1.4：时间标签国际化
- **测试目标**: 验证注册时间和更新时间标签显示
- **测试步骤**:
  1. 查看用户信息中的时间标签
  2. 切换语言验证
- **预期结果**:
  - 中文: "注册时间：", "更新时间："
  - 英文: "Registration Time: ", "Last Update: "

#### 测试用例 1.5：角色选择器国际化
- **测试目标**: 验证角色选择弹窗的国际化
- **测试步骤**:
  1. 点击任意用户的角色标签
  2. 查看弹出的选择器标题和选项
  3. 取消后切换语言重新测试
- **预期结果**:
  - 中文标题: "选择角色"，选项: "老板", "员工", "用户"
  - 英文标题: "Select Role"，选项: "Boss", "Staff", "User"

### 2. 状态信息国际化测试

#### 测试用例 2.1：成功消息国际化
- **测试目标**: 验证角色修改成功消息
- **前置条件**: BOSS角色，存在可修改的用户
- **测试步骤**:
  1. 修改某用户角色
  2. 观察成功提示消息
  3. 切换语言后再次测试
- **预期结果**:
  - 中文: "角色修改成功"
  - 英文: "Role updated successfully"

#### 测试用例 2.2：失败消息国际化
- **测试目标**: 验证错误消息国际化（模拟网络错误）
- **测试步骤**:
  1. 断开网络连接
  2. 尝试修改用户角色
  3. 观察错误提示
  4. 切换语言重新测试
- **预期结果**:
  - 中文: "角色修改失败" 或相关错误信息
  - 英文: "Failed to update role" 或相关错误信息

#### 测试用例 2.3：加载状态国际化
- **测试目标**: 验证加载状态文本
- **测试步骤**:
  1. 刷新权限管理页面
  2. 在加载过程中观察加载文本
  3. 切换语言重新测试
- **预期结果**:
  - 中文: "加载中..."
  - 英文: "Loading..."

#### 测试用例 2.4：空状态国际化
- **测试目标**: 验证无用户数据时的提示
- **前置条件**: 系统中无其他用户（仅当前BOSS用户）
- **测试步骤**:
  1. 确保系统只有当前用户
  2. 刷新权限管理页面
  3. 观察空状态提示
- **预期结果**:
  - 中文: "暂无用户数据"
  - 英文: "No user data"

### 3. 角色选择页面国际化测试

#### 测试用例 3.1：当前角色显示国际化
- **测试目标**: 验证角色选择页面的角色显示
- **前置条件**: 任意角色登录
- **测试步骤**:
  1. 进入角色选择页面
  2. 观察"当前角色"信息显示
  3. 切换语言验证
- **预期结果**:
  - 中文: "当前角色：老板/员工/用户"
  - 英文: "Current Role: Boss/Staff/User"

#### 测试用例 3.2：权限提示国际化
- **测试目标**: 验证USER角色的权限限制提示
- **前置条件**: USER角色登录
- **测试步骤**:
  1. 进入角色选择页面
  2. 观察商家后台卡片下方的权限提示
  3. 切换语言验证
- **预期结果**:
  - 中文: "仅限老板/员工"
  - 英文: "BOSS/STAFF Only"

---

## 集成测试用例

### 测试用例 4.1：语言切换一致性测试
- **测试目标**: 验证整个权限管理流程中语言切换的一致性
- **测试步骤**:
  1. 以BOSS角色登录，设置为中文
  2. 进入权限管理页面，验证所有文本为中文
  3. 返回角色选择页面，切换为英文
  4. 重新进入权限管理页面
  5. 执行完整的角色修改操作
- **预期结果**:
  - 所有界面文本与当前语言设置一致
  - 状态消息语言正确
  - 不存在语言混乱现象

### 测试用例 4.2：角色权限与国际化结合测试
- **测试目标**: 验证不同角色下国际化功能正常
- **测试步骤**:
  1. BOSS角色：测试权限管理页面国际化
  2. STAFF角色：验证无法访问权限管理，错误消息国际化
  3. USER角色：验证角色选择页面的权限提示国际化
- **预期结果**: 各角色下的国际化文本都正确显示

---

## 回归测试

### 测试用例 5.1：原有功能验证
- **测试目标**: 确保国际化修改不影响原有功能
- **测试步骤**:
  1. 验证权限管理的核心功能（角色修改）正常工作
  2. 验证角色选择页面的权限控制正常工作
  3. 验证用户列表加载和显示正常
- **预期结果**: 所有原有功能保持正常

### 测试用例 5.2：性能影响验证
- **测试目标**: 确保国际化不影响页面性能
- **测试步骤**:
  1. 测量权限管理页面加载时间
  2. 测量语言切换响应时间
  3. 观察是否有异常延迟
- **预期结果**: 性能无显著影响

---

## 测试数据

### 测试用户角色
- BOSS: 测试完整权限管理功能
- STAFF: 测试权限限制
- USER: 测试权限限制和提示

### 测试语言
- 中文 (zh)
- 英文 (en)

---

## 已知问题

暂无已知问题。

---

## 测试结论

✅ **权限管理国际化功能已成功实现**

- 所有权限管理相关文本支持中英文切换
- 角色显示统一使用国际化翻译
- 状态消息和提示信息完全国际化
- 不影响原有权限控制功能
- 代码结构优化，便于后续维护

**下一步计划**: 可根据需要添加更多语言支持，或优化特定场景下的用户体验。